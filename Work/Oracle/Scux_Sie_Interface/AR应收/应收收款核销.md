## <font color="red"><b><i>Scux_Sie_Ar_Apply_Api_Pkg</i></b></font>
---
### ⭐***包程序***
- [Scux_Sie_Ar_Apply_Api_Pkg](Scux_Sie_Ar_Apply_Api_Pkg.pck)
### ⭐***接口功能***
- 应收收款核销API
### ⭐***执行流程***
1. 通过**Do_Import**，付款核销发票的导入入口
    - 1)调用**Validate_Data**验证必输入字段不能为空
    - 2)调用**Do_Insert_Process**进行数据插入
        - 使用**Scux_Sie_Ar_Apply_Tbl**表类型接收入参
        - 把**Scux_Sie_Ar_Apply_Tbl**接收到的参数装填进赛意标准接口表[Scux_Sie_Ar_Apply_Iface](Scux_Sie_Ar_Apply_Iface.txt)
    - 3)调用**Do_Submit_Process**发起请求，执行并发程序<font color="red">***SCUX_AR收款核销发票导入***</font> (**SCUX_SIE_AR_APPLY_IMP_PKG**)

    
## <font color="red"><b><i>Scux_Sie_Ar_Apply_Imp_Pkg</i></b></font>
---
### ⭐***包程序***
- [Scux_Sie_Ar_Apply_Imp_Pkg](Scux_Sie_Ar_Apply_Imp_Pkg.pck)
### ⭐***接口功能***
- 标准化收款核销发票导入主程序
### ⭐***执行流程***
1. 通过上面API包的**Do_Submit_Process**发起的请求会执行本包程序的**Main**过程
    -  1)调用**Do_Import**，收款核销发票导入主程序调用入口
        - 通过**Do_Trim_Data**、**Validate_Data**进行数据的验证及处理
        - 调用**Do_Apply**会调用标准API处理接口数据
            - 调用**Ar_Receipt_Api_Pub.Apply** Oracle标准API进行收款核销
            - 根据收款核销执行的结果回写[Scux_Sie_Ar_Apply_Iface](Scux_Sie_Ar_Apply_Iface.txt)，其中字段**Scux_Process_Status**状态，成功**Gv_Completed**，失败**Gv_Error**
        - 调用**Do_Set_Error**将错误信息推送到错误公用记录表**Scux_Sie_Interface_Errors**

